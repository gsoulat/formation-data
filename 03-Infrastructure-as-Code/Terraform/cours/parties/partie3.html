<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3 : Premier Projet Terraform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="../assets/style.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="terraform-logo">⚡</span> Module 3 : Premier Projet Terraform</h1>
            <p>Créer votre première infrastructure avec Terraform</p>
        </header>

        <div class="content">
            <div class="objectives">
                <h2>🎯 Objectifs du Module</h2>
                <ul>
                    <li>Comprendre la structure d'un projet Terraform</li>
                    <li>Créer un Resource Group Azure avec Terraform</li>
                    <li>Maîtriser les commandes Terraform essentielles</li>
                    <li>Apprendre le workflow Terraform : init, plan, apply, destroy</li>
                </ul>
            </div>

            <section id="premier-projet">
                <h2>🚀 Premier Projet Terraform</h2>

                <h3>Structure d'un projet Terraform</h3>

                <div class="architecture-diagram">
                    <pre>
mon-projet-terraform/
├── main.tf              # Ressources principales
├── variables.tf         # Déclaration des variables
├── outputs.tf           # Valeurs de sortie
├── terraform.tfvars     # Valeurs des variables (ne pas commit)
├── providers.tf         # Configuration des providers
├── .gitignore           # Ignorer state et fichiers sensibles
└── README.md            # Documentation
</pre>
                </div>

                <h3>Créer un Resource Group Azure</h3>

                <div class="example-box">
                    <h4>📄 main.tf</h4>
                    <pre><code class="language-hcl"># Configuration du provider Azure
terraform {
  required_providers {
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~> 3.0"
    }
  }
  required_version = ">= 1.0"
}

provider "azurerm" {
  features {}
}

# Création d'un Resource Group
resource "azurerm_resource_group" "example" {
  name     = "rg-terraform-demo"
  location = "France Central"

  tags = {
    environment = "development"
    managed_by  = "terraform"
  }
}</code></pre>
                </div>

                <h3>Les Commandes Terraform Essentielles</h3>

                <div class="command-box">
                    <h4>1. terraform init</h4>
                    <p>Initialise le projet, télécharge les providers nécessaires.</p>
                    <pre><code class="language-bash">terraform init</code></pre>
                </div>

                <div class="command-box">
                    <h4>2. terraform validate</h4>
                    <p>Valide la syntaxe de la configuration.</p>
                    <pre><code class="language-bash">terraform validate</code></pre>
                </div>

                <div class="command-box">
                    <h4>3. terraform fmt</h4>
                    <p>Formate automatiquement le code Terraform.</p>
                    <pre><code class="language-bash">terraform fmt</code></pre>
                </div>

                <div class="command-box">
                    <h4>4. terraform plan</h4>
                    <p>Preview des changements qui seront appliqués.</p>
                    <pre><code class="language-bash">terraform plan</code></pre>
                </div>

                <div class="command-box">
                    <h4>5. terraform apply</h4>
                    <p>Applique les changements pour créer/modifier l'infrastructure.</p>
                    <pre><code class="language-bash">terraform apply

# Ou sans confirmation interactive
terraform apply -auto-approve</code></pre>
                </div>

                <div class="command-box">
                    <h4>6. terraform show</h4>
                    <p>Affiche l'état actuel de l'infrastructure.</p>
                    <pre><code class="language-bash">terraform show</code></pre>
                </div>

                <div class="command-box">
                    <h4>7. terraform destroy</h4>
                    <p>Détruit toutes les ressources gérées par Terraform.</p>
                    <pre><code class="language-bash">terraform destroy

# Ou sans confirmation
terraform destroy -auto-approve</code></pre>
                </div>

                <div class="warning">
                    <h4>⚠️ Attention</h4>
                    <p>Toujours exécuter <code>terraform plan</code> avant <code>terraform apply</code> pour vérifier les changements. En production, utilisez toujours un système de validation (pull request, approbation) avant d'appliquer.</p>
                </div>
            </section>

            <div style="margin-top: 50px; text-align: center;">
                <a href="partie2.html" style="display: inline-block; padding: 12px 30px; margin: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600;">← Précédent : Module 2</a>
                <a href="../index.html" style="display: inline-block; padding: 12px 30px; margin: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600;">🏠 Accueil</a>
                <a href="partie4.html" style="display: inline-block; padding: 12px 30px; margin: 10px; background: linear-gradient(135deg, #0066cc 0%, #00a3e0 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600;">Suivant → Module 4</a>
            </div>
        </div>

        <footer>
            <p>Formation Data Engineering - Simplon</p>
            <p>Terraform avec Azure - Module 3 : Premier Projet</p>
            <p>&copy; 2025 - Tous droits réservés</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-hcl.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
</body>
</html>
