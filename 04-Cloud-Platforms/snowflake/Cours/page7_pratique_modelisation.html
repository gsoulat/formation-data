<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page 7 - Pratique Modélisation | Formation DW</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            animation: slideInUp 0.8s ease-out;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e74c3c;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #e74c3c;
        }

        .time-badge {
            background: linear-gradient(45deg, #8e44ad, #9b59b6);
            border-radius: 25px;
            padding: 10px 20px;
            display: inline-block;
            margin: 15px 0;
            font-size: 1.1rem;
            font-weight: bold;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }

        .nav-btn {
            padding: 12px 24px;
            background: #34495e;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .nav-btn:hover {
            background: #e74c3c;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .nav-btn.home {
            background: #27ae60;
        }

        .nav-btn.home:hover {
            background: #2ecc71;
        }

        .practice-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #e74c3c;
            text-align: center;
            border-bottom: 2px solid #e74c3c;
            padding-bottom: 10px;
        }

        .session-planning {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .session-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 25px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }

        .session-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .session-card.active {
            border-left-color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
        }

        .session-time {
            font-size: 1.2rem;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 10px;
        }

        .session-title {
            font-size: 1.3rem;
            color: #e74c3c;
            margin-bottom: 15px;
        }

        .session-content {
            list-style: none;
            margin: 10px 0;
        }

        .session-content li {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            padding-left: 20px;
        }

        .session-content li:before {
            content: "▶";
            color: #27ae60;
            position: absolute;
            left: 0;
            top: 5px;
        }

        .case-study {
            background: linear-gradient(45deg, #2980b9, #3498db);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .case-study::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.03) 10px,
                rgba(255,255,255,0.03) 20px
            );
            animation: float 20s linear infinite;
        }

        .case-content {
            position: relative;
            z-index: 1;
        }

        .scenario-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .scenario-title {
            font-size: 1.4rem;
            color: #f39c12;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .data-tables {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .data-table {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #34495e;
        }

        .table-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 15px;
            text-align: center;
        }

        .table-fields {
            list-style: none;
        }

        .table-fields li {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .field-type {
            color: #3498db;
            font-weight: bold;
        }

        .field-key {
            color: #f39c12;
        }

        .interactive-workspace {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .workspace-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .workspace-tab {
            padding: 12px 24px;
            background: #34495e;
            border: none;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .workspace-tab.active {
            background: #e74c3c;
            transform: scale(1.05);
        }

        .workspace-tab:hover {
            background: #e74c3c;
        }

        .workspace-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .workspace-content.active {
            display: block;
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        .analysis-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
        }

        .panel-title {
            font-size: 1.3rem;
            color: #27ae60;
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .draggable-item {
            background: rgba(52, 152, 219, 0.8);
            border-radius: 8px;
            padding: 10px 15px;
            margin: 8px 0;
            cursor: grab;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .draggable-item:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.5);
        }

        .draggable-item.dragging {
            opacity: 0.6;
            transform: rotate(5deg);
        }

        .drop-zone {
            min-height: 200px;
            border: 2px dashed #7f8c8d;
            border-radius: 10px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .drop-zone.drag-over {
            border-color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
        }

        .drop-zone.facts {
            border-color: #e74c3c;
        }

        .drop-zone.dimensions {
            border-color: #27ae60;
        }

        .dropped-item {
            background: rgba(39, 174, 96, 0.8);
            border-radius: 8px;
            padding: 10px 15px;
            margin: 8px 0;
            position: relative;
        }

        .remove-item {
            position: absolute;
            right: 5px;
            top: 5px;
            background: #c0392b;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 12px;
        }

        .schema-builder {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .schema-canvas {
            min-height: 400px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            position: relative;
            border: 2px dashed #7f8c8d;
        }

        .schema-table {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            position: absolute;
            min-width: 150px;
            cursor: move;
            transition: all 0.3s ease;
        }

        .schema-table:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(52, 152, 219, 0.5);
        }

        .schema-table.fact-table {
            border-color: #e74c3c;
            background: rgba(231, 76, 60, 0.2);
        }

        .schema-table.dimension-table {
            border-color: #27ae60;
            background: rgba(39, 174, 96, 0.2);
        }

        .table-header {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 5px;
        }

        .table-field {
            font-size: 0.9rem;
            padding: 2px 0;
            font-family: 'Courier New', monospace;
        }

        .tools-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #9b59b6;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tool-card:hover {
            transform: translateX(10px);
            background: rgba(255, 255, 255, 0.15);
        }

        .tool-name {
            font-size: 1.2rem;
            color: #9b59b6;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .tool-type {
            font-size: 0.9rem;
            color: #f39c12;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .tool-features {
            list-style: none;
        }

        .tool-features li {
            padding: 3px 0;
            font-size: 0.9rem;
            color: #bdc3c7;
        }

        .tool-features li:before {
            content: "✓";
            color: #27ae60;
            margin-right: 8px;
        }

        .exercise-validation {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin: 30px 0;
        }

        .validation-checklist {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
            text-align: left;
        }

        .checklist-item {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .checklist-item:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .checklist-item.completed {
            background: rgba(39, 174, 96, 0.3);
        }

        .checklist-checkbox {
            margin-right: 10px;
            transform: scale(1.2);
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes float {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(100px); }
        }

        @media (max-width: 768px) {
            .nav-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .analysis-grid {
                grid-template-columns: 1fr;
            }

            .data-tables {
                grid-template-columns: 1fr;
            }

            .workspace-tabs {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="main-menu"></div>

        <div class="header">
            <h1>Après-midi Pratique - Modélisation</h1>
            <p>Ateliers pratiques et exercices de modélisation dimensionnelle</p>
            <div class="time-badge">
                ⏰ 13h30-16h30 (3h) - Pratique intensive
            </div>
        </div>

        <div class="nav-buttons">
            <a href="page1_intro_datawarehouse.html" class="nav-btn">← Retour Programme</a>
            <a href="page1_intro_datawarehouse.html" class="nav-btn home">🏠 Retour Accueil</a>
        </div>

        <!-- Planning de l'après-midi -->
        <div class="practice-section">
            <h2 class="section-title">📅 Planning de l'Après-midi</h2>

            <div class="session-planning">
                <div class="session-card active">
                    <div class="session-time">13h30-15h00</div>
                    <div class="session-title">🎯 Atelier de Modélisation</div>
                    <ul class="session-content">
                        <li>Exercice pratique : analyse d'un cas métier</li>
                        <li>Identification des faits et dimensions</li>
                        <li>Création des schémas logiques</li>
                        <li>Travail en équipe et discussion</li>
                    </ul>
                </div>

                <div class="session-card">
                    <div class="session-time">15h00-15h15</div>
                    <div class="session-title">☕ Pause</div>
                    <ul class="session-content">
                        <li>Pause café et détente</li>
                        <li>Échanges informels</li>
                        <li>Questions/réponses</li>
                    </ul>
                </div>

                <div class="session-card">
                    <div class="session-time">15h15-16h30</div>
                    <div class="session-title">🛠️ Outillage de Modélisation</div>
                    <ul class="session-content">
                        <li>Présentation des outils (ERwin, PowerDesigner, outils libres)</li>
                        <li>Réalisation des modèles conceptuels et logiques</li>
                        <li>Documentation des modèles</li>
                        <li>Bonnes pratiques et méthodologie</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Cas d'étude : E-commerce -->
        <div class="case-study">
            <div class="case-content">
                <h2 class="section-title" style="color: white;">🛒 Cas d'Étude : Plateforme E-commerce "TechnoShop"</h2>

                <div class="scenario-box">
                    <div class="scenario-title">📋 Contexte Métier</div>
                    <p><strong>TechnoShop</strong> est une plateforme e-commerce spécialisée dans la vente de produits technologiques.
                    L'entreprise souhaite créer un Data Warehouse avec <strong>Microsoft Azure</strong> pour analyser :</p>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>📊 <strong>Performances des ventes</strong> par produit, catégorie, période</li>
                        <li>👥 <strong>Comportement clients</strong> et segmentation</li>
                        <li>🌍 <strong>Analyse géographique</strong> des ventes</li>
                        <li>📈 <strong>Évolution temporelle</strong> des tendances</li>
                        <li>🏪 <strong>Performance des fournisseurs</strong></li>
                    </ul>
                </div>

                <div class="scenario-box">
                    <div class="scenario-title">☁️ Architecture Azure Proposée</div>
                    <div style="background: rgba(0, 120, 212, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>🏗️ Stack Technologique :</strong></p>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li><strong>Sources :</strong> SQL Server (OLTP) + Fichiers CSV + APIs</li>
                            <li><strong>Ingestion :</strong> Azure Data Factory</li>
                            <li><strong>Staging :</strong> Azure Data Lake Storage Gen2</li>
                            <li><strong>DW :</strong> Azure Synapse Analytics (Pool SQL dédié)</li>
                            <li><strong>BI :</strong> Power BI + Azure Analysis Services</li>
                        </ul>
                    </div>
                </div>

                <div class="scenario-box">
                    <div class="scenario-title">💾 Sources de Données Disponibles</div>
                    <p>Voici les principales tables du système transactionnel OLTP :</p>
                </div>

                <div class="data-tables">
                    <div class="data-table">
                        <div class="table-name">🛒 COMMANDES</div>
                        <ul class="table-fields">
                            <li><span class="field-key">commande_id</span> <span class="field-type">INT</span> (PK)</li>
                            <li>client_id <span class="field-type">INT</span> (FK)</li>
                            <li>date_commande <span class="field-type">DATETIME</span></li>
                            <li>statut <span class="field-type">VARCHAR(20)</span></li>
                            <li>montant_total <span class="field-type">DECIMAL(10,2)</span></li>
                            <li>frais_livraison <span class="field-type">DECIMAL(8,2)</span></li>
                            <li>code_promo <span class="field-type">VARCHAR(20)</span></li>
                        </ul>
                    </div>

                    <div class="data-table">
                        <div class="table-name">📦 LIGNES_COMMANDE</div>
                        <ul class="table-fields">
                            <li><span class="field-key">ligne_id</span> <span class="field-type">INT</span> (PK)</li>
                            <li>commande_id <span class="field-type">INT</span> (FK)</li>
                            <li>produit_id <span class="field-type">INT</span> (FK)</li>
                            <li>quantite <span class="field-type">INT</span></li>
                            <li>prix_unitaire <span class="field-type">DECIMAL(8,2)</span></li>
                            <li>remise_pct <span class="field-type">DECIMAL(5,2)</span></li>
                        </ul>
                    </div>

                    <div class="data-table">
                        <div class="table-name">👥 CLIENTS</div>
                        <ul class="table-fields">
                            <li><span class="field-key">client_id</span> <span class="field-type">INT</span> (PK)</li>
                            <li>nom <span class="field-type">VARCHAR(100)</span></li>
                            <li>email <span class="field-type">VARCHAR(150)</span></li>
                            <li>date_naissance <span class="field-type">DATE</span></li>
                            <li>sexe <span class="field-type">CHAR(1)</span></li>
                            <li>ville <span class="field-type">VARCHAR(50)</span></li>
                            <li>code_postal <span class="field-type">VARCHAR(10)</span></li>
                            <li>pays <span class="field-type">VARCHAR(50)</span></li>
                            <li>date_inscription <span class="field-type">DATE</span></li>
                        </ul>
                    </div>

                    <div class="data-table">
                        <div class="table-name">📱 PRODUITS</div>
                        <ul class="table-fields">
                            <li><span class="field-key">produit_id</span> <span class="field-type">INT</span> (PK)</li>
                            <li>nom_produit <span class="field-type">VARCHAR(200)</span></li>
                            <li>marque <span class="field-type">VARCHAR(50)</span></li>
                            <li>categorie_id <span class="field-type">INT</span> (FK)</li>
                            <li>prix_actuel <span class="field-type">DECIMAL(8,2)</span></li>
                            <li>poids <span class="field-type">DECIMAL(6,3)</span></li>
                            <li>fournisseur_id <span class="field-type">INT</span> (FK)</li>
                            <li>date_ajout <span class="field-type">DATE</span></li>
                        </ul>
                    </div>

                    <div class="data-table">
                        <div class="table-name">🏷️ CATEGORIES</div>
                        <ul class="table-fields">
                            <li><span class="field-key">categorie_id</span> <span class="field-type">INT</span> (PK)</li>
                            <li>nom_categorie <span class="field-type">VARCHAR(100)</span></li>
                            <li>categorie_parent_id <span class="field-type">INT</span> (FK)</li>
                            <li>description <span class="field-type">TEXT</span></li>
                        </ul>
                    </div>

                    <div class="data-table">
                        <div class="table-name">🏭 FOURNISSEURS</div>
                        <ul class="table-fields">
                            <li><span class="field-key">fournisseur_id</span> <span class="field-type">INT</span> (PK)</li>
                            <li>nom_fournisseur <span class="field-type">VARCHAR(100)</span></li>
                            <li>pays_origine <span class="field-type">VARCHAR(50)</span></li>
                            <li>note_qualite <span class="field-type">DECIMAL(3,2)</span></li>
                            <li>delai_livraison_moyen <span class="field-type">INT</span></li>
                        </ul>
                    </div>

                    <div class="data-table">
                        <div class="table-name">📊 DONNEES_EXTERNES</div>
                        <ul class="table-fields">
                            <li><span class="field-key">date_ref</span> <span class="field-type">DATE</span> (PK)</li>
                            <li>taux_change_eur_usd <span class="field-type">DECIMAL(6,4)</span></li>
                            <li>indice_confiance_consommateur <span class="field-type">DECIMAL(5,2)</span></li>
                            <li>nb_jours_feries <span class="field-type">INT</span></li>
                            <li>evenement_special <span class="field-type">VARCHAR(100)</span></li>
                            <li>source <span class="field-type">VARCHAR(50)</span></li>
                        </ul>
                    </div>

                    <div class="data-table">
                        <div class="table-name">🌐 SESSIONS_WEB</div>
                        <ul class="table-fields">
                            <li><span class="field-key">session_id</span> <span class="field-type">VARCHAR(50)</span> (PK)</li>
                            <li>client_id <span class="field-type">INT</span> (FK)</li>
                            <li>date_debut <span class="field-type">DATETIME</span></li>
                            <li>duree_session <span class="field-type">INT</span> (secondes)</li>
                            <li>pages_vues <span class="field-type">INT</span></li>
                            <li>source_trafic <span class="field-type">VARCHAR(50)</span></li>
                            <li>device_type <span class="field-type">VARCHAR(20)</span></li>
                            <li>a_commande <span class="field-type">BOOLEAN</span></li>
                        </ul>
                    </div>
                </div>

                <div class="scenario-box">
                    <div class="scenario-title">🔄 Flux de Données avec Azure</div>
                    <div style="background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 10px; margin: 15px 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                            <div style="background: rgba(231, 76, 60, 0.8); padding: 15px; border-radius: 8px; text-align: center; min-width: 120px;">
                                <strong>📊 SOURCES</strong><br>
                                <small>SQL Server OLTP<br>CSV Files<br>APIs Externes<br>Logs Web</small>
                            </div>
                            <div style="color: #f39c12; font-size: 1.5rem;">→</div>
                            <div style="background: rgba(155, 89, 182, 0.8); padding: 15px; border-radius: 8px; text-align: center; min-width: 120px;">
                                <strong>🏭 ADF</strong><br>
                                <small>Data Factory<br>Pipelines ETL<br>Triggers<br>Monitoring</small>
                            </div>
                            <div style="color: #f39c12; font-size: 1.5rem;">→</div>
                            <div style="background: rgba(52, 152, 219, 0.8); padding: 15px; border-radius: 8px; text-align: center; min-width: 120px;">
                                <strong>🏞️ ADLS Gen2</strong><br>
                                <small>Data Lake<br>Raw/Staging<br>Partitioning<br>Delta Format</small>
                            </div>
                            <div style="color: #f39c12; font-size: 1.5rem;">→</div>
                            <div style="background: rgba(39, 174, 96, 0.8); padding: 15px; border-radius: 8px; text-align: center; min-width: 120px;">
                                <strong>🏢 SYNAPSE</strong><br>
                                <small>SQL Pool<br>Star Schema<br>Columnstore<br>Partitions</small>
                            </div>
                            <div style="color: #f39c12; font-size: 1.5rem;">→</div>
                            <div style="background: rgba(243, 156, 18, 0.8); padding: 15px; border-radius: 8px; text-align: center; min-width: 120px;">
                                <strong>📈 POWER BI</strong><br>
                                <small>Dashboards<br>Reports<br>Real-time<br>Mobile</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Espace de travail interactif -->
        <div class="interactive-workspace">
            <h2 class="section-title">🎯 Espace de Travail Interactif</h2>

            <div class="workspace-tabs">
                <button class="workspace-tab active" onclick="showWorkspace(event, 'analysis')">1️⃣ Analyse</button>
                <button class="workspace-tab" onclick="showWorkspace(event, 'modeling')">2️⃣ Modélisation</button>
                <button class="workspace-tab" onclick="showWorkspace(event, 'validation')">3️⃣ Validation</button>
            </div>

            <div id="analysis" class="workspace-content active">
                <h3 style="text-align: center; margin-bottom: 20px; color: #f39c12;">🔍 Étape 1 : Identification Faits vs Dimensions</h3>

                <div class="analysis-grid">
                    <div class="analysis-panel">
                        <div class="panel-title">📋 Éléments à Classer</div>
                        <div id="elements-pool">
                            <div class="draggable-item" draggable="true" data-element="quantite">Quantité vendue</div>
                            <div class="draggable-item" draggable="true" data-element="prix">Prix unitaire</div>
                            <div class="draggable-item" draggable="true" data-element="client">Informations client</div>
                            <div class="draggable-item" draggable="true" data-element="produit">Détails produit</div>
                            <div class="draggable-item" draggable="true" data-element="date">Date de commande</div>
                            <div class="draggable-item" draggable="true" data-element="montant">Montant total</div>
                            <div class="draggable-item" draggable="true" data-element="remise">Remise appliquée</div>
                            <div class="draggable-item" draggable="true" data-element="fournisseur">Fournisseur</div>
                            <div class="draggable-item" draggable="true" data-element="categorie">Catégorie produit</div>
                            <div class="draggable-item" draggable="true" data-element="geographie">Localisation</div>
                            <div class="draggable-item" draggable="true" data-element="session">Durée session web</div>
                            <div class="draggable-item" draggable="true" data-element="pages">Pages vues</div>
                            <div class="draggable-item" draggable="true" data-element="device">Type de device</div>
                            <div class="draggable-item" draggable="true" data-element="trafic">Source de trafic</div>
                            <div class="draggable-item" draggable="true" data-element="externe">Données externes</div>
                            <div class="draggable-item" draggable="true" data-element="change">Taux de change</div>
                        </div>
                    </div>

                    <div class="analysis-panel">
                        <div class="panel-title">📊 Tables de Faits</div>
                        <div class="drop-zone facts" id="facts-zone">
                            <p style="text-align: center; color: #7f8c8d; margin-top: 80px;">
                                Glissez ici les <strong>mesures quantifiables</strong><br>
                                (métriques, valeurs numériques)
                            </p>
                        </div>
                    </div>
                </div>

                <div class="analysis-panel" style="margin-top: 20px;">
                    <div class="panel-title">🏷️ Tables de Dimensions</div>
                    <div class="drop-zone dimensions" id="dimensions-zone">
                        <p style="text-align: center; color: #7f8c8d; margin-top: 80px;">
                            Glissez ici les <strong>attributs descriptifs</strong><br>
                            (contexte, catégorisations, hiérarchies)
                        </p>
                    </div>
                </div>
            </div>

            <div id="modeling" class="workspace-content">
                <h3 style="text-align: center; margin-bottom: 20px; color: #f39c12;">⭐ Étape 2 : Construction du Schéma en Étoile</h3>

                <div class="schema-builder">
                    <div class="schema-canvas" id="schema-canvas">
                        <div style="text-align: center; color: #7f8c8d; margin-top: 150px;">
                            <p>🎨 <strong>Canvas de Modélisation</strong></p>
                            <p>Utilisez les boutons ci-dessous pour ajouter des tables</p>
                            <p>Glissez-déplacez pour organiser votre schéma</p>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="addFactTable()" style="background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin: 5px; cursor: pointer;">
                            ➕ Ajouter Table de Faits
                        </button>
                        <button onclick="addDimensionTable()" style="background: #27ae60; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin: 5px; cursor: pointer;">
                            ➕ Ajouter Dimension
                        </button>
                        <button onclick="clearSchema()" style="background: #7f8c8d; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin: 5px; cursor: pointer;">
                            🗑️ Effacer
                        </button>
                    </div>
                </div>
            </div>

            <div id="validation" class="workspace-content">
                <h3 style="text-align: center; margin-bottom: 20px; color: #f39c12;">✅ Étape 3 : Validation du Modèle</h3>

                <div class="exercise-validation">
                    <h4 style="margin-bottom: 20px;">🎯 Checklist de Validation</h4>

                    <div class="validation-checklist">
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <input type="checkbox" class="checklist-checkbox">
                            <strong>Table de faits identifiée</strong><br>
                            <small>Une table centrale avec les mesures</small>
                        </div>

                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <input type="checkbox" class="checklist-checkbox">
                            <strong>Dimensions principales</strong><br>
                            <small>Client, Produit, Temps, Géographie</small>
                        </div>

                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <input type="checkbox" class="checklist-checkbox">
                            <strong>Granularité définie</strong><br>
                            <small>Niveau de détail approprié</small>
                        </div>

                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <input type="checkbox" class="checklist-checkbox">
                            <strong>Clés de substitution</strong><br>
                            <small>Surrogate keys pour l'historisation</small>
                        </div>

                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <input type="checkbox" class="checklist-checkbox">
                            <strong>Hiérarchies dimensionnelles</strong><br>
                            <small>Niveaux d'agrégation logiques</small>
                        </div>

                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <input type="checkbox" class="checklist-checkbox">
                            <strong>Cohérence métier</strong><br>
                            <small>Modèle répond aux besoins analytiques</small>
                        </div>
                    </div>

                    <button onclick="validateModel()" style="background: #27ae60; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 1.1rem; margin-top: 20px; cursor: pointer;">
                        🏆 Valider le Modèle
                    </button>
                </div>
            </div>
        </div>

        <!-- Outils de modélisation -->
        <div class="tools-section">
            <h2 class="section-title">🛠️ Outils de Modélisation Recommandés</h2>

            <div class="tools-grid">
                <div class="tool-card">
                    <div class="tool-name">Azure Data Studio</div>
                    <div class="tool-type">🆓 Microsoft - Recommandé Azure</div>
                    <ul class="tool-features">
                        <li>Connexion native Azure Synapse</li>
                        <li>Modélisation SQL Server/Synapse</li>
                        <li>Extensions Data Warehouse</li>
                        <li>Intégration Azure DevOps</li>
                        <li>Notebooks intégrés</li>
                    </ul>
                </div>

                <div class="tool-card">
                    <div class="tool-name">SQL Server Data Tools (SSDT)</div>
                    <div class="tool-type">🆓 Microsoft - Azure Native</div>
                    <ul class="tool-features">
                        <li>Projets Azure Synapse Analytics</li>
                        <li>Déploiement automatisé vers Azure</li>
                        <li>Intégration Visual Studio</li>
                        <li>Gestion versions avec Git</li>
                        <li>Templates Data Warehouse</li>
                    </ul>
                </div>

                <div class="tool-card">
                    <div class="tool-name">ERwin Data Modeler</div>
                    <div class="tool-type">💼 Outil Commercial</div>
                    <ul class="tool-features">
                        <li>Support Azure Synapse Analytics</li>
                        <li>Reverse engineering Azure SQL</li>
                        <li>Génération scripts DDL Synapse</li>
                        <li>Collaboration et versioning</li>
                        <li>Intégration Power BI</li>
                    </ul>
                </div>

                <div class="tool-card">
                    <div class="tool-name">PowerDesigner</div>
                    <div class="tool-type">💼 SAP/Sybase</div>
                    <ul class="tool-features">
                        <li>Modélisation multidimensionnelle</li>
                        <li>Support Azure Synapse</li>
                        <li>Architecture d'entreprise Azure</li>
                        <li>Génération documentation</li>
                        <li>Intégration Azure DevOps</li>
                    </ul>
                </div>

                <div class="tool-card">
                    <div class="tool-name">Lucidchart / Visio</div>
                    <div class="tool-type">🌐 Outils Collaboratifs</div>
                    <ul class="tool-features">
                        <li>Templates Azure Architecture</li>
                        <li>Collaboration Office 365</li>
                        <li>Shapes Azure services</li>
                        <li>Export vers Azure DevOps</li>
                        <li>Intégration Teams</li>
                    </ul>
                </div>

                <div class="tool-card">
                    <div class="tool-name">Azure DevOps + Git</div>
                    <div class="tool-type">☁️ Azure Platform</div>
                    <ul class="tool-features">
                        <li>Versioning des modèles</li>
                        <li>CI/CD pour déploiements</li>
                        <li>Work items pour suivi</li>
                        <li>Intégration native Azure</li>
                        <li>Collaboration équipe</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        let draggedElement = null;
        let tableCounter = 0;

        // Drag and Drop functionality
        document.addEventListener('DOMContentLoaded', function() {
            setupDragAndDrop();
        });

        function setupDragAndDrop() {
            const draggableItems = document.querySelectorAll('.draggable-item');
            const dropZones = document.querySelectorAll('.drop-zone');

            draggableItems.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.classList.add('dragging');
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.target.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            e.target.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');

            if (draggedElement) {
                const droppedItem = document.createElement('div');
                droppedItem.className = 'dropped-item';
                droppedItem.innerHTML = `
                    ${draggedElement.textContent}
                    <button class="remove-item" onclick="removeItem(this)">×</button>
                `;

                e.target.appendChild(droppedItem);
                draggedElement.style.opacity = '0.3';
                draggedElement.draggable = false;
            }
        }

        function removeItem(button) {
            const item = button.parentElement;
            const text = item.textContent.replace('×', '').trim();

            // Find and restore original draggable item
            const originalItems = document.querySelectorAll('.draggable-item');
            originalItems.forEach(original => {
                if (original.textContent === text) {
                    original.style.opacity = '1';
                    original.draggable = true;
                }
            });

            item.remove();
        }

        function showWorkspace(event, workspaceId) {
            // Hide all workspace contents
            document.querySelectorAll('.workspace-content').forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.workspace-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected workspace
            document.getElementById(workspaceId).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function addFactTable() {
            tableCounter++;
            const canvas = document.getElementById('schema-canvas');

            const table = document.createElement('div');
            table.className = 'schema-table fact-table';
            table.style.left = `${50 + (tableCounter * 20)}px`;
            table.style.top = `${50 + (tableCounter * 20)}px`;

            const factTables = [
                {
                    name: 'FAIT_VENTES',
                    fields: ['vente_sk (PK)', 'client_sk (FK)', 'produit_sk (FK)', 'temps_sk (FK)', 'fournisseur_sk (FK)', 'quantite', 'montant_total', 'remise_pct', 'frais_livraison']
                },
                {
                    name: 'FAIT_SESSIONS_WEB',
                    fields: ['session_sk (PK)', 'client_sk (FK)', 'temps_sk (FK)', 'device_sk (FK)', 'duree_session', 'pages_vues', 'a_commande_flag', 'source_trafic']
                },
                {
                    name: 'FAIT_PERFORMANCE_FOURNISSEUR',
                    fields: ['perf_sk (PK)', 'fournisseur_sk (FK)', 'produit_sk (FK)', 'temps_sk (FK)', 'delai_livraison_reel', 'nb_commandes', 'note_satisfaction']
                }
            ];

            const selectedTable = factTables[tableCounter % factTables.length];

            table.innerHTML = `
                <div class="table-header">${selectedTable.name}</div>
                ${selectedTable.fields.map(field => `<div class="table-field">${field}</div>`).join('')}
            `;

            makeDraggable(table);
            canvas.appendChild(table);
        }

        function addDimensionTable() {
            tableCounter++;
            const canvas = document.getElementById('schema-canvas');

            const table = document.createElement('div');
            table.className = 'schema-table dimension-table';
            table.style.left = `${200 + (tableCounter * 30)}px`;
            table.style.top = `${200 + (tableCounter * 30)}px`;

            const dimensionTables = [
                {
                    name: 'DIM_CLIENT',
                    fields: ['client_sk (PK)', 'client_id (NK)', 'nom', 'email', 'age', 'sexe', 'ville', 'code_postal', 'pays', 'segment_client', 'date_inscription', 'version_debut', 'version_fin', 'est_actuel']
                },
                {
                    name: 'DIM_PRODUIT',
                    fields: ['produit_sk (PK)', 'produit_id (NK)', 'nom_produit', 'marque', 'categorie', 'sous_categorie', 'prix_actuel', 'poids', 'couleur', 'version_debut', 'version_fin', 'est_actuel']
                },
                {
                    name: 'DIM_TEMPS',
                    fields: ['temps_sk (PK)', 'date_complete', 'annee', 'mois', 'jour', 'trimestre', 'semaine', 'jour_semaine', 'nom_mois', 'est_weekend', 'est_ferie', 'saison']
                },
                {
                    name: 'DIM_FOURNISSEUR',
                    fields: ['fournisseur_sk (PK)', 'fournisseur_id (NK)', 'nom_fournisseur', 'pays_origine', 'continent', 'note_qualite', 'delai_livraison_moyen', 'certification_qualite', 'version_debut', 'version_fin']
                },
                {
                    name: 'DIM_GEOGRAPHIE',
                    fields: ['geo_sk (PK)', 'ville', 'code_postal', 'departement', 'region', 'pays', 'continent', 'fuseau_horaire', 'population', 'pib_par_habitant']
                },
                {
                    name: 'DIM_DEVICE',
                    fields: ['device_sk (PK)', 'type_device', 'marque_device', 'os', 'version_os', 'navigateur', 'version_navigateur', 'resolution_ecran', 'est_mobile']
                }
            ];

            const selectedTable = dimensionTables[tableCounter % dimensionTables.length];

            table.innerHTML = `
                <div class="table-header">${selectedTable.name}</div>
                ${selectedTable.fields.map(field => `<div class="table-field">${field}</div>`).join('')}
            `;

            makeDraggable(table);
            canvas.appendChild(table);
        }

        function makeDraggable(element) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

            element.onmousedown = dragMouseDown;

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                element.style.top = (element.offsetTop - pos2) + "px";
                element.style.left = (element.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        function clearSchema() {
            const canvas = document.getElementById('schema-canvas');
            const tables = canvas.querySelectorAll('.schema-table');
            tables.forEach(table => table.remove());

            canvas.innerHTML = `
                <div style="text-align: center; color: #7f8c8d; margin-top: 150px;">
                    <p>🎨 <strong>Canvas de Modélisation</strong></p>
                    <p>Utilisez les boutons ci-dessous pour ajouter des tables</p>
                    <p>Glissez-déplacez pour organiser votre schéma</p>
                </div>
            `;
            tableCounter = 0;
        }

        function toggleCheck(item) {
            const checkbox = item.querySelector('.checklist-checkbox');
            checkbox.checked = !checkbox.checked;

            if (checkbox.checked) {
                item.classList.add('completed');
            } else {
                item.classList.remove('completed');
            }
        }

        function validateModel() {
            const checkedItems = document.querySelectorAll('.checklist-checkbox:checked').length;
            const totalItems = document.querySelectorAll('.checklist-checkbox').length;

            let message = '';
            if (checkedItems === totalItems) {
                message = '🎉 Excellent ! Votre modèle respecte toutes les bonnes pratiques de la modélisation dimensionnelle. Vous êtes prêt pour l\'implémentation !';
            } else if (checkedItems >= totalItems * 0.8) {
                message = '👍 Très bien ! Votre modèle est solide. Quelques ajustements mineurs pourraient l\'améliorer encore.';
            } else if (checkedItems >= totalItems * 0.6) {
                message = '📚 Bien ! Votre modèle a de bonnes bases. Revoyez les points non cochés pour l\'optimiser.';
            } else {
                message = '💪 Continuez vos efforts ! Votre modèle nécessite encore du travail. Reprenez les concepts fondamentaux.';
            }

            alert(message);
        }

        // Chargement du menu
        function loadMenu() {
            fetch('menu.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('main-menu').innerHTML = data;
                })
                .catch(error => console.log('Menu non chargé:', error));
        }

        // Add smooth scrolling animation on page load
        window.addEventListener('load', () => {
            loadMenu();
            document.querySelector('.container').style.opacity = '0';
            setTimeout(() => {
                document.querySelector('.container').style.opacity = '1';
            }, 100);
        });
    </script>
</body>
</html>