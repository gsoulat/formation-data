<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Partie 3 : Pull Requests et Code Review - Formation GitHub</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="../assets/styles.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ”„ Partie 3 : Pull Requests et Code Review</h1>
            <p class="subtitle">MaÃ®trisez le workflow collaboratif central de GitHub</p>
            <span class="duration">â±ï¸ DurÃ©e : 40 minutes</span>
        </header>

        <!-- Navigation -->
        <nav class="nav-menu">
            <ul>
                <li><a href="../index.html">ğŸ  Accueil</a></li>
                <li><a href="partie1.html">Partie 1</a></li>
                <li><a href="partie2.html">Partie 2</a></li>
                <li><a href="partie3.html" class="active">Partie 3</a></li>
                <li><a href="partie4.html">Partie 4</a></li>
                <li><a href="partie5.html">Partie 5</a></li>
                <li><a href="partie6.html">Partie 6</a></li>
                <li><a href="partie7.html">Partie 7</a></li>
            </ul>
        </nav>

        <div class="content">
            <div class="objectives">
                <h2>Objectifs de cette partie</h2>
                <ul>
                    <li>Comprendre le rÃ´le central des Pull Requests</li>
                    <li>CrÃ©er une Pull Request complÃ¨te et bien documentÃ©e</li>
                    <li>Effectuer des code reviews constructives</li>
                    <li>ConnaÃ®tre les bonnes pratiques pour auteurs et reviewers</li>
                    <li>Choisir le bon type de merge</li>
                </ul>
            </div>

            <section class="section">
                <h2>Qu'est-ce qu'une Pull Request ?</h2>

                <p>
                    Une <strong>Pull Request</strong> (ou PR) est le mÃ©canisme central de collaboration sur GitHub.
                    C'est une demande pour intÃ©grer des modifications d'une branche vers une autre, gÃ©nÃ©ralement de
                    votre
                    branche feature vers <code>main</code>.
                </p>

                <div class="workflow-diagram">
                    <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  main branch â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ (crÃ©er feature branch)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ feature/new-etl  â”‚ â† DÃ©veloppement
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ (push + create PR)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Pull Request   â”‚ â† Review, Discussion, Tests
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ (merge aprÃ¨s approbation)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  main branch â”‚ â† Code intÃ©grÃ©
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
                </div>

                <h3>CrÃ©er une Pull Request : Workflow complet</h3>

                <h4>Ã‰tape 1 : CrÃ©er une branche</h4>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                    </div>
                    <pre><code class="language-bash"># S'assurer d'Ãªtre Ã  jour
git checkout main
git pull origin main

# CrÃ©er une branche feature
git checkout -b feature/add-data-validation

# DÃ©velopper votre fonctionnalitÃ©
# ... modifiez vos fichiers ...

# Committer vos changements
git add .
git commit -m "feat: add data validation module"</code></pre>
                </div>

                <h4>Ã‰tape 2 : Pousser la branche</h4>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                    </div>
                    <pre><code class="language-bash"># Pousser la branche vers GitHub
git push -u origin feature/add-data-validation

# GitHub affiche un lien direct pour crÃ©er la PR</code></pre>
                </div>

                <h4>Ã‰tape 3 : CrÃ©er la PR sur GitHub</h4>

                <ol>
                    <li>Allez sur votre repository sur GitHub</li>
                    <li>Cliquez sur <strong>Compare & pull request</strong></li>
                    <li>Ou allez dans l'onglet <strong>Pull requests</strong> â†’ <strong>New pull request</strong></li>
                    <li>SÃ©lectionnez les branches :
                        <ul>
                            <li><strong>base</strong> : <code>main</code> (branche de destination)</li>
                            <li><strong>compare</strong> : <code>feature/add-data-validation</code> (votre branche)
                            </li>
                        </ul>
                    </li>
                </ol>

                <h4>Ã‰tape 4 : RÃ©diger une description complÃ¨te</h4>

                <p>Une bonne PR contient :</p>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                    </div>
                    <pre><code class="language-markdown">## ğŸ¯ Objectif

Ajout d'un module de validation des donnÃ©es pour dÃ©tecter les problÃ¨mes de qualitÃ© avant le chargement.

## ğŸ“ Changements

- Nouveau fichier `src/validate.py` avec deux fonctions principales
- `validate_schema()` : vÃ©rifie que les colonnes attendues sont prÃ©sentes
- `validate_data_quality()` : dÃ©tecte les valeurs nulles et doublons
- Ajout de tests unitaires dans `tests/test_validate.py`
- Mise Ã  jour du README avec documentation du module

## âœ… Tests

- [x] Tests unitaires passent localement (`pytest tests/`)
- [x] TestÃ© manuellement avec un dataset de 10 000 lignes
- [x] Pas de rÃ©gression sur les pipelines existants

## ğŸ”— Liens

Closes #42

## ğŸ“¸ Captures d'Ã©cran (si UI)

N/A

## âš ï¸ Points d'attention pour les reviewers

- VÃ©rifier si la logique de dÃ©tection des doublons est suffisante
- SuggÃ©rer des validations supplÃ©mentaires Ã  implÃ©menter
</code></pre>
                </div>

                <h4>Ã‰tape 5 : Assigner des reviewers</h4>

                <p>Sur la droite de la PR :</p>

                <ul>
                    <li><strong>Reviewers</strong> : SÃ©lectionnez les personnes qui doivent relire le code</li>
                    <li><strong>Assignees</strong> : Vous-mÃªme (personne responsable de la PR)</li>
                    <li><strong>Labels</strong> : Exemple : <code>enhancement</code>, <code>bug</code>,
                        <code>documentation</code>
                    </li>
                    <li><strong>Projects</strong> : Lier Ã  un projet si vous utilisez GitHub Projects</li>
                    <li><strong>Milestone</strong> : Si applicable (exemple : v1.0.0)</li>
                </ul>

                <h3>Code Review : Bonnes pratiques</h3>

                <h4>Pour l'auteur de la PR</h4>

                <div class="grid">
                    <div class="grid-item">
                        <h4>âœ… Ã€ faire</h4>
                        <ul>
                            <li>PR petite et focalisÃ©e (&lt; 400 lignes)</li>
                            <li>Description claire et complÃ¨te</li>
                            <li>Tests qui passent avant de demander review</li>
                            <li>RÃ©pondre rapidement aux commentaires</li>
                            <li>Accepter les critiques constructives</li>
                        </ul>
                    </div>

                    <div class="grid-item">
                        <h4>âŒ Ã€ Ã©viter</h4>
                        <ul>
                            <li>PR massive avec des milliers de lignes</li>
                            <li>MÃ©langer plusieurs features non liÃ©es</li>
                            <li>Ignorer les commentaires des reviewers</li>
                            <li>Push force sans prÃ©venir</li>
                            <li>Description vide ou "fix"</li>
                        </ul>
                    </div>
                </div>

                <h4>Pour le reviewer</h4>

                <div class="grid">
                    <div class="grid-item">
                        <h4>âœ… Ã€ faire</h4>
                        <ul>
                            <li>Lire toute la PR avant de commenter</li>
                            <li>ÃŠtre constructif et respectueux</li>
                            <li>Proposer des solutions, pas juste critiquer</li>
                            <li>Valider la logique mÃ©tier</li>
                            <li>VÃ©rifier les tests et edge cases</li>
                        </ul>
                    </div>

                    <div class="grid-item">
                        <h4>âŒ Ã€ Ã©viter</h4>
                        <ul>
                            <li>Commentaires vagues ("c'est moche")</li>
                            <li>Imposer son style personnel</li>
                            <li>Bloquer pour des dÃ©tails mineurs</li>
                            <li>Ignorer la PR pendant des jours</li>
                            <li>Approuver sans vraiment lire</li>
                        </ul>
                    </div>
                </div>

                <h4>Types de commentaires sur une PR</h4>

                <ul>
                    <li><strong>Comment</strong> : Simple commentaire, pas bloquant</li>
                    <li><strong>Approve</strong> : âœ… Validation de la PR, prÃªte Ã  merger</li>
                    <li><strong>Request changes</strong> : âŒ Modifications nÃ©cessaires avant merge</li>
                </ul>

                <h3>IntÃ©grer les modifications demandÃ©es</h3>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                    </div>
                    <pre><code class="language-bash"># Effectuer les modifications demandÃ©es
# ... Ã©diter les fichiers ...

# Committer les changements
git add .
git commit -m "fix: address review comments - improve error handling"

# Pousser les modifications
git push origin feature/add-data-validation

# La PR se met automatiquement Ã  jour sur GitHub</code></pre>
                </div>

                <div class="alert alert-info">
                    <h4>Git Push automatique</h4>
                    <p>
                        Chaque fois que vous push un nouveau commit sur la branche, la PR est automatiquement mise Ã 
                        jour.
                        Les reviewers sont notifiÃ©s des nouveaux changements.
                    </p>
                </div>

                <h3>Merger la Pull Request</h3>

                <p>Une fois que la PR est approuvÃ©e et que les tests passent :</p>

                <h4>Trois types de merge</h4>

                <table>
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Quand l'utiliser ?</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Merge commit</strong></td>
                            <td>CrÃ©e un commit de merge, garde tout l'historique</td>
                            <td>Projets oÃ¹ l'historique complet est important</td>
                        </tr>
                        <tr>
                            <td><strong>Squash and merge</strong></td>
                            <td>Combine tous les commits en un seul</td>
                            <td>Garder un historique propre sur main (recommandÃ©)</td>
                        </tr>
                        <tr>
                            <td><strong>Rebase and merge</strong></td>
                            <td>RÃ©applique les commits sur main sans commit de merge</td>
                            <td>Historique linÃ©aire strict</td>
                        </tr>
                    </tbody>
                </table>

                <div class="alert alert-success">
                    <h4>Recommandation</h4>
                    <p>
                        Pour la plupart des projets, <strong>Squash and merge</strong> est le meilleur choix.
                        Cela crÃ©e un historique propre sur main avec un commit par feature.
                    </p>
                </div>

                <h4>AprÃ¨s le merge</h4>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                    </div>
                    <pre><code class="language-bash"># Mettre Ã  jour votre branche main locale
git checkout main
git pull origin main

# Supprimer la branche feature localement
git branch -d feature/add-data-validation

# GitHub propose automatiquement de supprimer la branche distante</code></pre>
                </div>
            </section>

            <div class="key-points">
                <h3>ğŸ’¡ Points clÃ©s Ã  retenir</h3>
                <ul>
                    <li>Les Pull Requests sont le mÃ©canisme central de collaboration sur GitHub</li>
                    <li>Une PR doit Ãªtre petite (&lt; 400 lignes), focalisÃ©e et bien documentÃ©e</li>
                    <li>Les code reviews sont constructives, respectueuses et proposent des solutions</li>
                    <li>Squash and merge est recommandÃ© pour garder un historique propre</li>
                    <li>Ne mergez qu'aprÃ¨s approbation et tests qui passent</li>
                </ul>
            </div>

            <div class="alert alert-info">
                <h4>Prochaine Ã©tape</h4>
                <p>
                    Vous maÃ®trisez maintenant les Pull Requests ! Passons Ã  la <strong>Partie 4</strong> pour apprendre
                    Ã  organiser votre travail avec Issues et Projects.
                </p>
            </div>

            <!-- Navigation bas de page -->
            <div style="display: flex; justify-content: space-between; margin-top: 50px;">
                <a href="partie2.html"
                    style="display: inline-block; padding: 12px 24px; background: #6c757d; color: white; text-decoration: none; border-radius: 8px; font-weight: 500;">
                    â† Partie 2 : Premiers pas
                </a>
                <a href="partie4.html"
                    style="display: inline-block; padding: 12px 24px; background: #0066cc; color: white; text-decoration: none; border-radius: 8px; font-weight: 500;">
                    Partie 4 : Issues et Projects â†’
                </a>
            </div>
        </div>

        <footer>
            <p>Formation GitHub pour Data Engineering - 2024</p>
        </footer>
    </div>

    <!-- Prism.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markdown.min.js"></script>
</body>

</html>
